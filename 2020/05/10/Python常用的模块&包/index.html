<!DOCTYPE html>
<html lang=zh>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000">
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top">
  
  
  <title>Python常用的模块&amp;包 | Yang&#39;s Blog</title>
  <meta name="description" content="常用模块&amp;amp;包re模块正则表达式简介 概念又称正则表示式、正则表示法、规则表达式、常规表示法，是计算机科学的一个概念。正则表达式使用单个字符串来描述、匹配一系列符合某个句法规则的字符串。  字符组在同一个位置可能出现的各种字符组成了一个字符组，在正则表达式中用[]表示。      正则表达式 待匹配字符串 解释    [0123456789] 6 字符组里包含待匹配字符   [abcdefg">
<meta property="og:type" content="article">
<meta property="og:title" content="Python常用的模块&amp;包">
<meta property="og:url" content="https://elijahyg.github.io/2020/05/10/Python常用的模块&包/index.html">
<meta property="og:site_name" content="Yang&#39;s Blog">
<meta property="og:description" content="常用模块&amp;amp;包re模块正则表达式简介 概念又称正则表示式、正则表示法、规则表达式、常规表示法，是计算机科学的一个概念。正则表达式使用单个字符串来描述、匹配一系列符合某个句法规则的字符串。  字符组在同一个位置可能出现的各种字符组成了一个字符组，在正则表达式中用[]表示。      正则表达式 待匹配字符串 解释    [0123456789] 6 字符组里包含待匹配字符   [abcdefg">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2020-05-10T15:09:13.424Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Python常用的模块&amp;包">
<meta name="twitter:description" content="常用模块&amp;amp;包re模块正则表达式简介 概念又称正则表示式、正则表示法、规则表达式、常规表示法，是计算机科学的一个概念。正则表达式使用单个字符串来描述、匹配一系列符合某个句法规则的字符串。  字符组在同一个位置可能出现的各种字符组成了一个字符组，在正则表达式中用[]表示。      正则表达式 待匹配字符串 解释    [0123456789] 6 字符组里包含待匹配字符   [abcdefg">
  <!-- Canonical links -->
  <link rel="canonical" href="https://elijahyg.github.io/2020/05/10/Python常用的模块&包/index.html">
  
  
    <link rel="icon" href="images/logo.ico" type="image/x-icon">
  
  <link rel="stylesheet" href="/css/style.css">
  
  
  
  
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1.4.0/dist/gitalk.min.css">
  
</head>


<body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://github.com/ElijahYG" target="_blank">
          <img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">Elijah Yang</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">Developer</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Beijing, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav ">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">标签</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">项目</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-books">
          <a href="/books">
            
            <i class="icon icon-book-fill"></i>
            
            <span class="menu-title">书单</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">友链</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">关于</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/ElijahYG" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>顺境内敛 逆境不屈</p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Go系列/">Go系列</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python系列/">Python系列</a><span class="category-list-count">22</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/其他/">其他</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>


    
      

    
      
    
      
  <div class="widget">
    <h3 class="widget-title">归档</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a><span class="archive-list-count">5</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled ">
        
          <li>
            
            <div class="item-thumb">
              <a href="/2020/05/10/Python常用的模块&包/" class="thumb">
    
    
        <span class="thumb-image thumb-none"></span>
    
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Python系列/">Python系列</a>
              </p>
              <p class="item-title">
                <a href="/2020/05/10/Python常用的模块&包/" class="title">Python常用的模块&amp;包</a>
              </p>
              <p class="item-date">
                <time datetime="2020-05-10T15:07:02.000Z" itemprop="datePublished">2020-05-10</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-thumb">
              <a href="/2020/04/14/Python包/" class="thumb">
    
    
        <span class="thumb-image thumb-none"></span>
    
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Python系列/">Python系列</a>
              </p>
              <p class="item-title">
                <a href="/2020/04/14/Python包/" class="title">Python包</a>
              </p>
              <p class="item-date">
                <time datetime="2020-04-14T14:06:48.000Z" itemprop="datePublished">2020-04-14</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-thumb">
              <a href="/2020/04/07/Python模块/" class="thumb">
    
    
        <span class="thumb-image thumb-none"></span>
    
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Python系列/">Python系列</a>
              </p>
              <p class="item-title">
                <a href="/2020/04/07/Python模块/" class="title">Python模块</a>
              </p>
              <p class="item-date">
                <time datetime="2020-04-07T14:41:44.000Z" itemprop="datePublished">2020-04-07</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-thumb">
              <a href="/2020/03/28/Python迭代器&生成器/" class="thumb">
    
    
        <span class="thumb-image thumb-none"></span>
    
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Python系列/">Python系列</a>
              </p>
              <p class="item-title">
                <a href="/2020/03/28/Python迭代器&生成器/" class="title">Python迭代器&amp;生成器</a>
              </p>
              <p class="item-date">
                <time datetime="2020-03-28T07:59:44.000Z" itemprop="datePublished">2020-03-28</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-thumb">
              <a href="/2020/03/14/Python闭包&装饰器/" class="thumb">
    
    
        <span class="thumb-image thumb-none"></span>
    
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Python系列/">Python系列</a>
              </p>
              <p class="item-title">
                <a href="/2020/03/14/Python闭包&装饰器/" class="title">Python闭包&amp;装饰器</a>
              </p>
              <p class="item-date">
                <time datetime="2020-03-14T08:42:22.000Z" itemprop="datePublished">2020-03-14</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">文章目录</h3>
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#常用模块-amp-包"><span class="toc-number">1.</span> <span class="toc-text">常用模块&amp;包</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#re模块"><span class="toc-number">1.1.</span> <span class="toc-text">re模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#正则表达式简介"><span class="toc-number">1.1.1.</span> <span class="toc-text">正则表达式简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#re模块介绍"><span class="toc-number">1.1.2.</span> <span class="toc-text">re模块介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#re模块常用方法"><span class="toc-number">1.1.3.</span> <span class="toc-text">re模块常用方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#collections模块"><span class="toc-number">1.2.</span> <span class="toc-text">collections模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#collections模块介绍"><span class="toc-number">1.2.1.</span> <span class="toc-text">collections模块介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#collections模块常用方法"><span class="toc-number">1.2.2.</span> <span class="toc-text">collections模块常用方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#时间模块"><span class="toc-number">1.3.</span> <span class="toc-text">时间模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#表示时间的三种方式"><span class="toc-number">1.3.1.</span> <span class="toc-text">表示时间的三种方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#几种格式之间的转换"><span class="toc-number">1.3.2.</span> <span class="toc-text">几种格式之间的转换</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#random模块"><span class="toc-number">1.4.</span> <span class="toc-text">random模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#random模块介绍"><span class="toc-number">1.4.1.</span> <span class="toc-text">random模块介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#random模块常用方法"><span class="toc-number">1.4.2.</span> <span class="toc-text">random模块常用方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#os模块"><span class="toc-number">1.5.</span> <span class="toc-text">os模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#os模块介绍"><span class="toc-number">1.5.1.</span> <span class="toc-text">os模块介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#os模块常用方法"><span class="toc-number">1.5.2.</span> <span class="toc-text">os模块常用方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sys模块"><span class="toc-number">1.6.</span> <span class="toc-text">sys模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#sys模块介绍"><span class="toc-number">1.6.1.</span> <span class="toc-text">sys模块介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sys模块常用方法"><span class="toc-number">1.6.2.</span> <span class="toc-text">sys模块常用方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#序列化相关模块"><span class="toc-number">1.7.</span> <span class="toc-text">序列化相关模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#序列化概念"><span class="toc-number">1.7.1.</span> <span class="toc-text">序列化概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#序列化目的"><span class="toc-number">1.7.2.</span> <span class="toc-text">序列化目的</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#序列化相关模块介绍"><span class="toc-number">1.7.3.</span> <span class="toc-text">序列化相关模块介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#序列化相关模块常用方法"><span class="toc-number">1.7.4.</span> <span class="toc-text">序列化相关模块常用方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Pickle-vs-Json-vs-Marshal"><span class="toc-number">1.7.5.</span> <span class="toc-text">Pickle vs Json vs Marshal</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hashlib模块"><span class="toc-number">1.8.</span> <span class="toc-text">hashlib模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#hashlib模块介绍"><span class="toc-number">1.8.1.</span> <span class="toc-text">hashlib模块介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hashlib的作用"><span class="toc-number">1.8.2.</span> <span class="toc-text">hashlib的作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hashlib模块应用场景"><span class="toc-number">1.8.3.</span> <span class="toc-text">hashlib模块应用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hashlib模块示例"><span class="toc-number">1.8.4.</span> <span class="toc-text">hashlib模块示例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#configparser模块"><span class="toc-number">1.9.</span> <span class="toc-text">configparser模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#configparser模块介绍"><span class="toc-number">1.9.1.</span> <span class="toc-text">configparser模块介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#configparser模块示例"><span class="toc-number">1.9.2.</span> <span class="toc-text">configparser模块示例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#logging模块"><span class="toc-number">1.10.</span> <span class="toc-text">logging模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#logging模块介绍"><span class="toc-number">1.10.1.</span> <span class="toc-text">logging模块介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#logging模块详解"><span class="toc-number">1.10.2.</span> <span class="toc-text">logging模块详解</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pymysql模块"><span class="toc-number">1.11.</span> <span class="toc-text">pymysql模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#pymysql模块介绍"><span class="toc-number">1.11.1.</span> <span class="toc-text">pymysql模块介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#pymysql模块使用示例"><span class="toc-number">1.11.2.</span> <span class="toc-text">pymysql模块使用示例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#redis模块"><span class="toc-number">1.12.</span> <span class="toc-text">redis模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#redis模块介绍"><span class="toc-number">1.12.1.</span> <span class="toc-text">redis模块介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#redis模块使用示例"><span class="toc-number">1.12.2.</span> <span class="toc-text">redis模块使用示例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PyMongo模块"><span class="toc-number">1.13.</span> <span class="toc-text">PyMongo模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#PyMongo模块介绍"><span class="toc-number">1.13.1.</span> <span class="toc-text">PyMongo模块介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#PyMongo模块使用示例"><span class="toc-number">1.13.2.</span> <span class="toc-text">PyMongo模块使用示例</span></a></li></ol></li></ol></li></ol>
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-Python常用的模块&amp;包" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      Python常用的模块&amp;包
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2020/05/10/Python常用的模块&包/" class="article-date">
	  <time datetime="2020-05-10T15:07:02.000Z" itemprop="datePublished">2020-05-10</time>
	</a>
</span>
        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/Python系列/">Python系列</a>
  </span>

        

        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill" aria-hidden="true"></i>
	    <span id="busuanzi_container_page_pv">
			<span id="busuanzi_value_page_pv">0</span>
		</span>
	</span>


        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2020/05/10/Python常用的模块&包/#comments" class="article-comment-link">评论</a></span>
        
	
		<span class="post-wordcount hidden-xs" itemprop="wordCount">字数统计: 10.2k(字)</span>
	
	
		<span class="post-readcount hidden-xs" itemprop="timeRequired">阅读时长: 44(分)</span>
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <h2 id="常用模块-amp-包"><a href="#常用模块-amp-包" class="headerlink" title="常用模块&amp;包"></a>常用模块&amp;包</h2><h3 id="re模块"><a href="#re模块" class="headerlink" title="re模块"></a>re模块</h3><h4 id="正则表达式简介"><a href="#正则表达式简介" class="headerlink" title="正则表达式简介"></a>正则表达式简介</h4><ul>
<li><p>概念<br>又称正则表示式、正则表示法、规则表达式、常规表示法，是计算机科学的一个概念。正则表达式使用单个字符串来描述、匹配一系列符合某个句法规则的字符串。</p>
</li>
<li><p>字符组<br>在同一个位置可能出现的各种字符组成了一个字符组，在正则表达式中用<code>[]</code>表示。</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>正则表达式</th>
<th>待匹配字符串</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>[0123456789]</td>
<td>6</td>
<td>字符组里包含待匹配字符</td>
</tr>
<tr>
<td>[abcdefghij]</td>
<td>a</td>
<td>字符组里包含待匹配字符</td>
</tr>
<tr>
<td>[0-9]</td>
<td>a</td>
<td>字符组里使用-作为范围，包含待匹配字符</td>
</tr>
<tr>
<td>[a-z]</td>
<td>a</td>
<td>字符组里使用-作为范围，包含待匹配字符</td>
</tr>
<tr>
<td>[A-Za-z0-9]</td>
<td>a</td>
<td>字符组里使用-作为范围，可以包含多个范围，包含待匹配字符</td>
</tr>
</tbody></table>
<ul>
<li>字符</li>
</ul>
<table>
<thead>
<tr>
<th>元字符</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>.</td>
<td>可以匹配除换行符(\n)外的任意字符</td>
</tr>
<tr>
<td>\w</td>
<td>可以匹配数字、字母、下划线(_)</td>
</tr>
<tr>
<td>\s</td>
<td>可以匹配任何空白字符，包括空格、制表符、换页符等等。等价于字符组用法的：[\f\n\r\t\v]</td>
</tr>
<tr>
<td>\d</td>
<td>可以匹配数字</td>
</tr>
<tr>
<td>\n</td>
<td>可以匹配一个换行符</td>
</tr>
<tr>
<td>\t</td>
<td>可以匹配一个制表符</td>
</tr>
<tr>
<td>\b</td>
<td>定位符,可以匹配一个单词的边界,这个位置的一侧是构成单词的字符,另一侧为非单词字符、字符串的开始或结束位置,”\b”是零宽度的</td>
</tr>
<tr>
<td>^</td>
<td>可以匹配字符串的开始</td>
</tr>
<tr>
<td>$</td>
<td>可以匹配字符串的结尾</td>
</tr>
<tr>
<td>\W</td>
<td>可以匹配非字母或数字或下划线</td>
</tr>
<tr>
<td>\D</td>
<td>可以匹配非数字</td>
</tr>
<tr>
<td>\S</td>
<td>可以匹配非空白符</td>
</tr>
<tr>
<td>\B</td>
<td>定位符,可以匹配一个非单词的边界</td>
</tr>
<tr>
<td>a|b</td>
<td>可以匹配字符a或字符b</td>
</tr>
<tr>
<td>()</td>
<td>可以匹配括号内的表达式，也表示一个组</td>
</tr>
<tr>
<td>[…]</td>
<td>可以匹配字符组中的字符</td>
</tr>
<tr>
<td>[^…]</td>
<td>可以匹配除了字符组中字符的所有字符</td>
</tr>
</tbody></table>
<ul>
<li>量词</li>
</ul>
<table>
<thead>
<tr>
<th>量词</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>重复零次或更多次</td>
</tr>
<tr>
<td>+</td>
<td>重复一次或更多次</td>
</tr>
<tr>
<td>?</td>
<td>重复零次或一次</td>
</tr>
<tr>
<td>{n}</td>
<td>重复n次</td>
</tr>
<tr>
<td>{n,}</td>
<td>重复n次或更多次</td>
</tr>
<tr>
<td>{n,m}</td>
<td>重复n到m次</td>
</tr>
</tbody></table>
<ul>
<li>转义符<code>\</code>与r</li>
</ul>
<table>
<thead>
<tr>
<th>字符</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td><code>\</code></td>
<td>元字符中很多都包括<code>\</code>，如果需要匹配反斜杠<code>\</code>的话，则需要对其转义，在<code>\</code>前增加一个<code>\</code>变为<code>\\</code></td>
</tr>
<tr>
<td>r</td>
<td>如果需要转义的<code>\</code>过多，或者觉得麻烦，可以在正则表达式中使用r，则正则表达式字符串中的<code>\</code>视为<code>\</code>，不当做元字符的一部分</td>
</tr>
</tbody></table>
<ul>
<li>贪婪匹配原则<br>在满足匹配条件时，匹配尽可能长的字符串，默认情况下，采用贪婪匹配</li>
</ul>
<h4 id="re模块介绍"><a href="#re模块介绍" class="headerlink" title="re模块介绍"></a>re模块介绍</h4><p>re模块使Python拥有全部的正则表达式功能,re模块也提供了与这些方法功能完全一致的函数，这些函数使用一个模式字符串做为它们的第一个参数</p>
<h4 id="re模块常用方法"><a href="#re模块常用方法" class="headerlink" title="re模块常用方法"></a>re模块常用方法</h4><ul>
<li>findall(): 返回所有满足匹配条件的结果至列表中</li>
<li>search(): 返回第一个包含匹配条件的信息对象，可以调用该对象的group()方法将匹配的字符输出，如果没有匹配到则调用group()方法会报错</li>
<li>match(): 与search()方法类似，但是仅在字符串开始出匹配，返回第一个包含匹配条件的信息对象，调用该对象的group()方法将匹配的字符输出，如果没有匹配到则调用group()方法会报错</li>
<li>split(): 逐个按符合条件的字符串对待匹配字符串进行切分，返回结果列表</li>
<li>sub(): 将待匹配字符串中满足匹配条件的内容进行替换，最后一个参数指定替换的次数，返回替换后的字符串</li>
<li>subn(): 与sub()方法类型，但是无法指定替换的次数，并且输出的是一个元组，包括替换后的字符串和替换的总次数</li>
<li>compile(): 将正则表达式编译成为一个正则表达式对象，之后可以用re模块中的方法对对象进行操作</li>
<li>finditer(): finditer返回一个存放匹配结果的迭代器，用next等方法取出存放结果的对象，再用group()方法取出结果</li>
<li>findall的优先级查询: 将findall()方法中匹配条件中加括号后，只会输出匹配到的字符串；可以在括号中加入?:取消权限</li>
<li>split的优先级查询: 将split()方法中的匹配条件加括号后，会将满足条件的切分字符也输出值最终列表中，同样可以在括号中加入?:取消权限</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 示例</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">s = <span class="string">'life1is2short,I3use4python5'</span> <span class="comment"># 待匹配字符串</span></span><br><span class="line"></span><br><span class="line">res = re.findall(<span class="string">"\d"</span>, s)</span><br><span class="line">print(res)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">res = re.search(<span class="string">"1"</span>, s)</span><br><span class="line">print(res.group())</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">"1"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">res = re.match(<span class="string">"1"</span>, s)</span><br><span class="line">print(res)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="literal">None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">res = re.split(<span class="string">"\d"</span>, s)</span><br><span class="line">print(res)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="string">'life'</span>, <span class="string">'is'</span>, <span class="string">'short,I'</span>, <span class="string">'use'</span>, <span class="string">'python'</span>, <span class="string">''</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">res = re.sub(<span class="string">"\d"</span>, <span class="string">"___"</span>, s, <span class="number">2</span>)</span><br><span class="line">print(res)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">"life___is___short,I3use4python5"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">res = re.subn(<span class="string">"\d"</span>, <span class="string">"___"</span>, s)</span><br><span class="line">print(res)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">"life___is___short,I___use___python___"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">prog = re.compile(<span class="string">"\d"</span>)</span><br><span class="line">res = prog.match(s)</span><br><span class="line"><span class="comment"># 等价于 res = re.match("\d", s)</span></span><br><span class="line">print(res)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">res = re.finditer(<span class="string">"\d"</span>, s)</span><br><span class="line">print([i.group() <span class="keyword">for</span> i <span class="keyword">in</span> res]) <span class="comment"># 返回为一个迭代器 iterator 保存了 匹配对象 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>]</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="collections模块"><a href="#collections模块" class="headerlink" title="collections模块"></a>collections模块</h3><h4 id="collections模块介绍"><a href="#collections模块介绍" class="headerlink" title="collections模块介绍"></a>collections模块介绍</h4><p>这个模块实现了特定目标的容器，以提供Python标准内建容器 dict , list , set , 和 tuple 的替代选择。</p>
<h4 id="collections模块常用方法"><a href="#collections模块常用方法" class="headerlink" title="collections模块常用方法"></a>collections模块常用方法</h4><table>
<thead>
<tr>
<th>名称</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>namedtuple()</td>
<td>创建命名元组子类的工厂函数</td>
</tr>
<tr>
<td>deque</td>
<td>类似列表(list)的容器，实现了在两端快速添加(append)和弹出(pop)</td>
</tr>
<tr>
<td>ChainMap</td>
<td>类似字典(dict)的容器类，将多个映射集合到一个视图里面</td>
</tr>
<tr>
<td>Counter</td>
<td>字典的子类，提供了可哈希对象的计数功能</td>
</tr>
<tr>
<td>OrderedDict</td>
<td>字典的子类，保存了他们被添加的顺序</td>
</tr>
<tr>
<td>defaultdict</td>
<td>字典的子类，提供了一个工厂函数，为字典查询提供一个默认值</td>
</tr>
<tr>
<td>UserDict</td>
<td>封装了字典对象，简化了字典子类化</td>
</tr>
<tr>
<td>UserList</td>
<td>封装了列表对象，简化了列表子类化</td>
</tr>
<tr>
<td>UserString</td>
<td>封装了列表对象，简化了字符串子类化</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># -------------------</span></span><br><span class="line"><span class="comment"># namedtuple</span></span><br><span class="line"><span class="comment"># -------------------</span></span><br><span class="line"></span><br><span class="line">这个新的子类用于创建类元组的对象，可以通过域名来获取属性值，同样也可以通过索引和迭代获取值。</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> namedtuple</span><br><span class="line">Point = namedtuple(<span class="string">'Point'</span>, [<span class="string">'x'</span>, <span class="string">'y'</span>])</span><br><span class="line">p = Point(<span class="number">11</span>, y=<span class="number">22</span>)</span><br><span class="line">res = p[<span class="number">0</span>] + p[<span class="number">1</span>]</span><br><span class="line">print(res)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">33</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -------------------</span></span><br><span class="line"><span class="comment"># deque</span></span><br><span class="line"><span class="comment"># -------------------</span></span><br><span class="line">返回一个新的双向队列对象，从左到右初始化(用方法 append()) ，从迭代对象数据创建。</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = deque(<span class="string">'ghi'</span>) <span class="comment"># 创建一个新的deque</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> elem <span class="keyword">in</span> d: <span class="comment"># 循环输出deque中的元素</span></span><br><span class="line"><span class="meta">... </span>print(elem.upper())</span><br><span class="line">G</span><br><span class="line">H</span><br><span class="line">I</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.append(<span class="string">'j'</span>) <span class="comment"># 从右边插入新元素</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.appendleft(<span class="string">'f'</span>) <span class="comment"># 从左边插入新元素</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d <span class="comment"># 输出deque所有元素</span></span><br><span class="line">deque([<span class="string">'f'</span>, <span class="string">'g'</span>, <span class="string">'h'</span>, <span class="string">'i'</span>, <span class="string">'j'</span>])</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.pop() <span class="comment"># 从右边推出最后一个元素</span></span><br><span class="line"><span class="string">'j'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.popleft() <span class="comment"># 从左边推出最后一个元素</span></span><br><span class="line"><span class="string">'f'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(d) <span class="comment"># 输出deque所有元素</span></span><br><span class="line">[<span class="string">'g'</span>, <span class="string">'h'</span>, <span class="string">'i'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d[<span class="number">0</span>] <span class="comment"># 输出最左边元素</span></span><br><span class="line"><span class="string">'g'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d[<span class="number">-1</span>] <span class="comment"># 输出最右边元素</span></span><br><span class="line"><span class="string">'i'</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(reversed(d)) <span class="comment"># 逆向输出deque所有元素</span></span><br><span class="line">[<span class="string">'i'</span>, <span class="string">'h'</span>, <span class="string">'g'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'h'</span> <span class="keyword">in</span> d <span class="comment"># 在deque中查找元素</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.extend(<span class="string">'jkl'</span>) <span class="comment"># 一次性添加多个元素</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d</span><br><span class="line">deque([<span class="string">'g'</span>, <span class="string">'h'</span>, <span class="string">'i'</span>, <span class="string">'j'</span>, <span class="string">'k'</span>, <span class="string">'l'</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.rotate(<span class="number">1</span>) <span class="comment"># 所有元素向右移动</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d</span><br><span class="line">deque([<span class="string">'l'</span>, <span class="string">'g'</span>, <span class="string">'h'</span>, <span class="string">'i'</span>, <span class="string">'j'</span>, <span class="string">'k'</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.rotate(<span class="number">-1</span>) <span class="comment"># 所有元素向左移动</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d</span><br><span class="line">deque([<span class="string">'g'</span>, <span class="string">'h'</span>, <span class="string">'i'</span>, <span class="string">'j'</span>, <span class="string">'k'</span>, <span class="string">'l'</span>])</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>deque(reversed(d)) <span class="comment"># 创建一个新的deque</span></span><br><span class="line">deque([<span class="string">'l'</span>, <span class="string">'k'</span>, <span class="string">'j'</span>, <span class="string">'i'</span>, <span class="string">'h'</span>, <span class="string">'g'</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.clear() <span class="comment"># 清空deque</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.pop() <span class="comment"># 空deque不能推出元素</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">    File <span class="string">"&lt;pyshell#6&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> -toplevel-</span><br><span class="line">        d.pop()</span><br><span class="line">IndexError: pop <span class="keyword">from</span> an empty deque</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.extendleft(<span class="string">'abc'</span>) <span class="comment"># 一次性添加多个元素，从左边开始插入</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d</span><br><span class="line">deque([<span class="string">'c'</span>, <span class="string">'b'</span>, <span class="string">'a'</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># -------------------</span></span><br><span class="line"><span class="comment"># ChainMap</span></span><br><span class="line"><span class="comment"># -------------------</span></span><br><span class="line">将多个字典或者其他映射组合在一起，创建一个单独的可更新的视图。</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> ChainMap</span><br><span class="line">baseline = &#123;<span class="string">'music'</span>: <span class="string">'bach'</span>, <span class="string">'art'</span>: <span class="string">'rembrandt'</span>&#125;</span><br><span class="line">adjustments = &#123;<span class="string">'art'</span>: <span class="string">'van gogh'</span>, <span class="string">'opera'</span>: <span class="string">'carmen'</span>&#125;</span><br><span class="line">print(list(ChainMap(adjustments, baseline)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="string">'music'</span>, <span class="string">'opera'</span>, <span class="string">'art'</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> ChainMap</span><br><span class="line">baseline = &#123;<span class="string">'music'</span>: <span class="string">'bach'</span>, <span class="string">'art'</span>: <span class="string">'rembrandt'</span>&#125;</span><br><span class="line">adjustments = &#123;<span class="string">'art'</span>: <span class="string">'van gogh'</span>, <span class="string">'opera'</span>: <span class="string">'carmen'</span>&#125;</span><br><span class="line">combined = baseline.copy()</span><br><span class="line">combined.update(adjustments)</span><br><span class="line">print(list(combined))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="string">'music'</span>, <span class="string">'art'</span>, <span class="string">'opera'</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># -------------------</span></span><br><span class="line"><span class="comment"># Counter:</span></span><br><span class="line"><span class="comment"># -------------------</span></span><br><span class="line">是dict的子类，用于计数可哈希对象。它是一个集合，元素像字典键(key)一样存储，它们的计数存储为值。</span><br><span class="line"></span><br><span class="line">c = Counter() <span class="comment"># 创建新的空Counter对象</span></span><br><span class="line">c = Counter(<span class="string">'gallahad'</span>) <span class="comment"># 创建字符串的Counter对象</span></span><br><span class="line">c = Counter(&#123;<span class="string">'red'</span>: <span class="number">4</span>, <span class="string">'blue'</span>: <span class="number">2</span>&#125;) <span class="comment"># 创建映射关系的Counter对象</span></span><br><span class="line">c = Counter(cats=<span class="number">4</span>, dogs=<span class="number">8</span>) <span class="comment"># 创建关键字的Counter对象</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -------------------</span></span><br><span class="line"><span class="comment"># OrderedDict</span></span><br><span class="line"><span class="comment"># -------------------</span></span><br><span class="line"></span><br><span class="line">它具有专门用于重新排列字典顺序的方法。</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = OrderedDict.fromkeys(<span class="string">'abcde'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.move_to_end(<span class="string">'b'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">''</span>.join(d.keys())</span><br><span class="line"><span class="string">'acdeb'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.move_to_end(<span class="string">'b'</span>, last=<span class="literal">False</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">''</span>.join(d.keys())</span><br><span class="line"><span class="string">'bacde'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># -------------------</span></span><br><span class="line"><span class="comment"># defaultdict</span></span><br><span class="line"><span class="comment"># ------------------- </span></span><br><span class="line">一个新的类似字典的对象。它重载了一个方法并添加了一个可写的实例变量。</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = [(<span class="string">'yellow'</span>, <span class="number">1</span>), (<span class="string">'blue'</span>, <span class="number">2</span>), (<span class="string">'yellow'</span>, <span class="number">3</span>), (<span class="string">'blue'</span>, <span class="number">4</span>), (<span class="string">'red'</span>, <span class="number">1</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = defaultdict(list)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> k, v <span class="keyword">in</span> s:</span><br><span class="line"><span class="meta">... </span>d[k].append(v)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sorted(d.items())</span><br><span class="line">[(<span class="string">'blue'</span>, [<span class="number">2</span>, <span class="number">4</span>]), (<span class="string">'red'</span>, [<span class="number">1</span>]), (<span class="string">'yellow'</span>, [<span class="number">1</span>, <span class="number">3</span>])]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># -------------------</span></span><br><span class="line"><span class="comment"># UserDict</span></span><br><span class="line"><span class="comment"># ------------------- </span></span><br><span class="line">模拟一个字典类。这个实例的内容保存为一个正常字典， 可以通过 UserDict 实例的 data 属性存取。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># -------------------</span></span><br><span class="line"><span class="comment"># UserList</span></span><br><span class="line"><span class="comment"># ------------------- </span></span><br><span class="line">这个类封装了列表对象。它是一个有用的基础类，对于你想自定义的类似列表的类，可以继承和覆盖现有的方法，也可以添加新的方法。这样我们可以对列表添加新的行为。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># -------------------</span></span><br><span class="line"><span class="comment"># UserString</span></span><br><span class="line"><span class="comment"># ------------------- </span></span><br><span class="line">用作字符串对象的外包装。对这个类的需求已部分由直接创建 str 的子类的功能所替代</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="时间模块"><a href="#时间模块" class="headerlink" title="时间模块"></a>时间模块</h3><h4 id="表示时间的三种方式"><a href="#表示时间的三种方式" class="headerlink" title="表示时间的三种方式"></a>表示时间的三种方式</h4><ul>
<li>时间戳：通常来说，时间戳表示的是从1970年1月1日00:00:00开始按秒计算的偏移量。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line">print(time.time())</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">1515570662.77503</span></span><br></pre></td></tr></table></figure>

<ul>
<li>结构化时间：结构化时间元组共有9个元素(年，月，日，时，分，秒，一年中第几周，一年中第几天等）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line">print(time.localtime())</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.struct_time(tm_year=<span class="number">2018</span>, tm_mon=<span class="number">1</span>, tm_mday=<span class="number">10</span>, tm_hour=<span class="number">16</span>, tm_min=<span class="number">0</span>, tm_sec=<span class="number">33</span>, tm_wday=<span class="number">2</span>, tm_yday=<span class="number">10</span>, tm_isdst=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>时间字符串：以字符串表示年、月、日、时间</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line">print(time.strftime(<span class="string">"%Y-%m-%d %H-%M-%S"</span>))</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">2018</span><span class="number">-01</span><span class="number">-10</span> <span class="number">15</span><span class="number">-59</span><span class="number">-16</span></span><br></pre></td></tr></table></figure>

<h4 id="几种格式之间的转换"><a href="#几种格式之间的转换" class="headerlink" title="几种格式之间的转换"></a>几种格式之间的转换</h4><ul>
<li>时间戳–&gt;结构化时间</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># time.gmtime(时间戳) #UTC时间，与英国伦敦当地时间一致</span></span><br><span class="line"><span class="comment"># time.localtime(时间戳) #当地时间。例如当地时间为北京时间，与UTC时间相差8小时，UTC时间+8小时 = 北京时间</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">timestamp = <span class="number">1515570662.77503</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 时间戳 → 当地时间</span></span><br><span class="line">print(time.localtime(timestamp))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.struct_time(tm_year=<span class="number">2018</span>, tm_mon=<span class="number">1</span>, tm_mday=<span class="number">10</span>, tm_hour=<span class="number">15</span>, tm_min=<span class="number">51</span>, tm_sec=<span class="number">2</span>, tm_wday=<span class="number">2</span>, tm_yday=<span class="number">10</span>, tm_isdst=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 时间戳 → UTC时间</span></span><br><span class="line">print(time.gmtime(timestamp))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.struct_time(tm_year=<span class="number">2018</span>, tm_mon=<span class="number">1</span>, tm_mday=<span class="number">10</span>, tm_hour=<span class="number">7</span>, tm_min=<span class="number">51</span>, tm_sec=<span class="number">2</span>, tm_wday=<span class="number">2</span>, tm_yday=<span class="number">10</span>, tm_isdst=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>结构化时间–&gt;时间戳</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># time.mktime(结构化时间)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line">time_tuple  = time.localtime(<span class="number">1500000000</span>)</span><br><span class="line">print(time.mktime(time_tuple))</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">1500000000.0</span></span><br></pre></td></tr></table></figure>

<ul>
<li>字符串时间–&gt;结构化时间</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># time.strptime(时间字符串,字符串对应格式)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line">print(time.strftime(<span class="string">"%Y-%m-%d %X"</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">2018</span><span class="number">-01</span><span class="number">-10</span> <span class="number">16</span>:<span class="number">19</span>:<span class="number">46</span></span><br><span class="line">print(time.strftime(<span class="string">"%Y-%m-%d"</span>,time.localtime(<span class="number">1515570662.77503</span>)))</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">2018</span><span class="number">-01</span><span class="number">-10</span></span><br></pre></td></tr></table></figure>

<ul>
<li>结构化时间–&gt;字符串时间</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># time.strftime(“格式定义”,”结构化时间”) 结构化时间参数若不传，则现实当前时间</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line">print(time.strptime(<span class="string">"2017-03-16"</span>,<span class="string">"%Y-%m-%d"</span>))</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.struct_time(tm_year=<span class="number">2017</span>, tm_mon=<span class="number">3</span>, tm_mday=<span class="number">16</span>, tm_hour=<span class="number">0</span>, tm_min=<span class="number">0</span>, tm_sec=<span class="number">0</span>, tm_wday=<span class="number">3</span>, tm_yday=<span class="number">75</span>, tm_isdst=<span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">print(time.strptime(<span class="string">"07/24/2017"</span>,<span class="string">"%m/%d/%Y"</span>))</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.struct_time(tm_year=<span class="number">2017</span>, tm_mon=<span class="number">7</span>, tm_mday=<span class="number">24</span>, tm_hour=<span class="number">0</span>, tm_min=<span class="number">0</span>, tm_sec=<span class="number">0</span>, tm_wday=<span class="number">0</span>, tm_yday=<span class="number">205</span>, tm_isdst=<span class="number">-1</span>)</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="random模块"><a href="#random模块" class="headerlink" title="random模块"></a>random模块</h3><h4 id="random模块介绍"><a href="#random模块介绍" class="headerlink" title="random模块介绍"></a>random模块介绍</h4><p>该模块实现了各种分布的伪随机数生成器。</p>
<h4 id="random模块常用方法"><a href="#random模块常用方法" class="headerlink" title="random模块常用方法"></a>random模块常用方法</h4><ul>
<li>随机小数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line">print(random.random()) <span class="comment"># 随机输出在0-1之间的小数</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">0.11828833626857149</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line">print(random.uniform(<span class="number">1</span>,<span class="number">5</span>)) <span class="comment"># 随机输出在范围之间的小数</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">2.164732131520036</span></span><br></pre></td></tr></table></figure>

<ul>
<li>随机整数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line">print(random.randint(<span class="number">5</span>,<span class="number">10</span>)) <span class="comment"># randint中的范围包括首尾</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line">print(random.randrange(<span class="number">5</span>,<span class="number">10</span>,<span class="number">2</span>)) <span class="comment"># randrange中的范围顾首不顾尾，可以指定步长</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">7</span></span><br></pre></td></tr></table></figure>

<ul>
<li>随机返回列表元素</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line">print(random.choice([<span class="number">1</span>,<span class="string">'23'</span>,[<span class="number">4</span>,<span class="number">5</span>],(<span class="number">6</span>,<span class="number">7</span>)]))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="number">6</span>, <span class="number">7</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>随机返回多个列表元素，可以指定返回的个数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line">print(random.sample([<span class="number">1</span>,<span class="string">'23'</span>,[<span class="number">4</span>,<span class="number">5</span>],(<span class="number">6</span>,<span class="number">7</span>)],<span class="number">2</span>)) </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[(<span class="number">6</span>, <span class="number">7</span>), <span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<ul>
<li>打乱顺序</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line">item=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line">random.shuffle(item)</span><br><span class="line">print(item)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="number">2</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">9</span>]</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="os模块"><a href="#os模块" class="headerlink" title="os模块"></a>os模块</h3><h4 id="os模块介绍"><a href="#os模块介绍" class="headerlink" title="os模块介绍"></a>os模块介绍</h4><p>本模块提供了一种使用与操作系统相关的功能的便捷式途径。</p>
<h4 id="os模块常用方法"><a href="#os模块常用方法" class="headerlink" title="os模块常用方法"></a>os模块常用方法</h4><ul>
<li>进程参数: 这些函数和数据项提供了操作当前进程和用户的信息。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">os.ctermid(): 返回与进程控制终端对应的文件名。</span><br><span class="line">os.environ: 一个表示字符串环境的 mapping 对象。</span><br><span class="line">os.environb:字节版本的 environ: 一个以字节串表示环境的 mapping 对象。</span><br><span class="line">os.fsencode(filename)：编码 路径类 文件名 为文件系统接受的形式，使用 <span class="string">'surrogateescape'</span> 代理转义编码错误处理器，在Windows系统上会使用 <span class="string">'strict'</span> ；返回 bytes 字节类型不变。</span><br><span class="line">os.fsdecode(filename)：从文件系统编码方式解码为 路径类 文件名，使用 <span class="string">'surrogateescape'</span> 代理转义编码错误处理器，在Windows系统上会使用 <span class="string">'strict'</span> ；返回 str 字符串不变。</span><br><span class="line">os.fspath(path):返回路径的文件系统表示。</span><br><span class="line">os.getenv(key, default=<span class="literal">None</span>):如果存在，返回环境变量 key 的值，否则返回 default。 key ， default 和返回值均为 str 字符串类型。</span><br><span class="line">os.getenvb(key, default=<span class="literal">None</span>):如果存在环境变量 key 那么返回其值，否则返回 default。 key ， default 和返回值均为bytes字节串类型。</span><br><span class="line">os.get_exec_path(env=<span class="literal">None</span>):返回将用于搜索可执行文件的目录列表，与在外壳程序中启动一个进程时相似。</span><br><span class="line">os.getegid():返回当前进程的有效组ID。</span><br><span class="line">os.geteuid():返回当前进程的有效用户ID。</span><br><span class="line">os.getgid():返回当前进程的实际组ID。</span><br><span class="line">os.getgrouplist(user, group):返回该用户所在的组 ID 列表。</span><br><span class="line">os.getgroups(): 返回当前进程对应的组ID列表</span><br><span class="line">os.getlogin():返回通过控制终端进程进行登录的用户名。</span><br><span class="line">os.getpgid(pid):根据进程id pid 返回进程的组 ID 列表。</span><br><span class="line">os.getpgrp():返回当时进程组的ID</span><br><span class="line">os.getpid():返回当前进程ID</span><br><span class="line">os.getppid():返回父进程ID。</span><br><span class="line">os.getpriority(which, who):获取程序调度优先级。</span><br><span class="line">os.getresuid():返回一个由 (ruid, euid, suid) 所组成的元组，分别表示当前进程的真实用户ID，有效用户ID和甲暂存用户ID。</span><br><span class="line">os.getresgid():返回一个由 (rgid, egid, sgid) 所组成的元组，分别表示当前进程的真实组ID，有效组ID和暂存组ID。</span><br><span class="line">os.getuid():返回当前进程的真实用户ID。</span><br><span class="line">os.initgroups(username, gid):调用系统 initgroups()，使用指定用户所在的所有值来初始化组访问列表，包括指定的组ID</span><br><span class="line">os.putenv(key, value):将名为 key 的环境变量值设置为 value。</span><br><span class="line">os.setegid(egid):设置当前进程的有效组ID。</span><br><span class="line">os.seteuid(euid):设置当前进程的有效用户ID。</span><br><span class="line">os.setgid(gid):设置当前进程的组ID。</span><br><span class="line">os.setgroups(groups):将 group 参数值设置为与当进程相关联的附加组ID列表</span><br><span class="line">os.setpgrp():根据已实现的版本（如果有）来调用系统 setpgrp() 或 setpgrp(<span class="number">0</span>, <span class="number">0</span>) 。</span><br><span class="line">os.setpgid(pid, pgrp):使用系统调用 setpgid()，将 pid 对应进程的组ID设置为 pgrp。</span><br><span class="line">os.setpriority(which, who, priority):设置程序调度优先级。</span><br><span class="line">os.setregid(rgid, egid):设置当前进程的真实和有效组ID。</span><br><span class="line">os.setresgid(rgid, egid, sgid):设置当前进程的真实，有效和暂存组ID。</span><br><span class="line">os.setresuid(ruid, euid, suid):设置当前进程的真实，有效和暂存用户ID。</span><br><span class="line">os.setreuid(ruid, euid):设置当前进程的真实和有效用户ID。</span><br><span class="line">os.getsid(pid):调用系统调用 getsid()。</span><br><span class="line">os.setsid():使用系统调用 getsid()。</span><br><span class="line">os.setuid(uid):设置当前进程的用户ID。</span><br><span class="line">os.strerror(code):根据 code 中的错误码返回错误消息。</span><br><span class="line">os.supports_bytes_environ:如果操作系统上原生环境类型是字节型则为 <span class="literal">True</span> (例如在 Windows 上为 <span class="literal">False</span>)。</span><br><span class="line">os.umask(mask):设定当前数值掩码并返回之前的掩码。</span><br><span class="line">os.uname():返回当前操作系统的识别信息。</span><br><span class="line">os.unsetenv(key):取消设置（删除）名为 key 的环境变量。</span><br></pre></td></tr></table></figure>

<ul>
<li>创建文件对象: 这些函数创建新的 file objects。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.fdopen(fd, *args, **kwargs)：返回打开文件描述符 fd 对应文件的对象。</span><br></pre></td></tr></table></figure>

<ul>
<li>文件描述符操作: 这些函数对文件描述符所引用的 I/O 流进行操作。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"> os.close(fd):关闭文件描述符 fd</span><br><span class="line"> os.closerange(fd_low, fd_high):关闭从 fd_low （包括）到 fd_high （排除）间的文件描述符，并忽略错误。</span><br><span class="line"> os.copy_file_range(src, dst, count, offset_src=<span class="literal">None</span>, offset_dst=<span class="literal">None</span>):从文件描述符 src 复制 count 字节，从偏移量 offset_src 开始读取，到文件描述符 dst，从偏移量 offset_dst 开始写入。</span><br><span class="line"> os.device_encoding(fd):如果连接到终端，则返回一个与 fd 关联的设备描述字符，否则返回 <span class="literal">None</span>。</span><br><span class="line"> os.dup(fd):返回一个文件描述符 fd 的副本。</span><br><span class="line"> os.dup2(fd, fd2, inheritable=<span class="literal">True</span>):把文件描述符 fd 复制为 fd2，必要时先关闭后者。</span><br><span class="line"> os.fchmod(fd, mode):将 fd 指定文件的权限状态修改为 mode。</span><br><span class="line"> os.fchown(fd, uid, gid):分别将 fd 指定文件的所有者和组 ID 修改为 uid 和 gid 的值。</span><br><span class="line"> os.fdatasync(fd):强制将文件描述符 fd 指定文件写入磁盘。</span><br><span class="line"> os.fpathconf(fd, name):返回与打开的文件有关的系统配置信息。</span><br><span class="line"> os.fstat(fd):获取文件描述符 fd 的状态. 返回一个 stat_result 对象。</span><br><span class="line"> os.fstatvfs(fd):返回文件系统的信息，该文件系统是文件描述符 fd 指向的文件所在的文件系统，与 statvfs() 一样。从 Python <span class="number">3.3</span> 开始，它等效于 os.statvfs(fd)。</span><br><span class="line"> os.fsync(fd):强制将文件描述符 fd 指向的文件写入磁盘。</span><br><span class="line"> os.ftruncate(fd, length):将文件描述符 fd 指向的文件切分开，以使其最大为 length 字节。从 Python <span class="number">3.3</span> 开始，它等效于 os.truncate(fd, length)。</span><br><span class="line"> os.get_blocking(fd):获取文件描述符的阻塞模式：如果设置了 O_NONBLOCK 标志位，返回 <span class="literal">False</span>，如果该标志位被清除，返回 <span class="literal">True</span>。</span><br><span class="line"> os.isatty(fd):如果文件描述符 fd 打开且已连接至 tty 设备（或类 tty 设备），返回 <span class="literal">True</span>，否则返回 <span class="literal">False</span>。</span><br><span class="line"> os.lockf(fd, cmd, len):在打开的文件描述符上，使用、测试或删除 POSIX 锁。</span><br><span class="line"> os.lseek(fd, pos, how):将文件描述符 fd 的当前位置设置为 pos，</span><br><span class="line"> os.open(path, flags, mode=<span class="number">0o777</span>, *, dir_fd=<span class="literal">None</span>):打开文件 path，根据 flags 设置各种标志位，并根据 mode 设置其权限模式。</span><br><span class="line"> os.openpty():打开一对新的伪终端，返回一对文件描述符``（主，从）``，分别为 pty 和 tty。</span><br><span class="line"> os.pipe():创建一个管道，返回一对分别用于读取和写入的文件描述符 (r, w)。</span><br><span class="line"> os.pipe2(flags):创建带有 flags 标志位的管道。</span><br><span class="line"> os.posix_fallocate(fd, offset, len):确保为 fd 指向的文件分配了足够的磁盘空间，该空间从偏移量 offset 开始，到 len 字节为止。</span><br><span class="line"> os.posix_fadvise(fd, offset, len, advice):声明即将以特定模式访问数据，使内核可以提前进行优化。</span><br><span class="line"> os.pread(fd, n, offset):从文件描述符 fd 所指向文件的偏移位置 offset 开始，读取至多 n 个字节，而保持文件偏移量不变。</span><br><span class="line"> os.preadv(fd, buffers, offset, flags=<span class="number">0</span>):从文件描述符 fd 所指向文件的偏移位置 offset 开始，将数据读取至可变 字节类对象 缓冲区 buffers 中，保持文件偏移量不变。</span><br><span class="line"> os.RWF_NOWAIT:不要等待无法立即获得的数据。</span><br><span class="line"> os.RWF_HIPRI:高优先级读/写。</span><br><span class="line"> os.pwrite(fd, str, offset):将 str 中的字节串 (bytestring) 写入文件描述符 fd 的偏移位置 offset 处，保持文件偏移量不变。</span><br><span class="line"> os.pwritev(fd, buffers, offset, flags=<span class="number">0</span>):将缓冲区 buffers 的内容写入文件描述符 fd 的偏移位置 offset 处，保持文件偏移量不变。</span><br><span class="line"> os.RWF_DSYNC:提供立即写入功能，等效于 O_DSYNC open(<span class="number">2</span>) 标志</span><br><span class="line"> os.RWF_SYNC:提供立即写入功能，等效于 O_SYNC open(<span class="number">2</span>) 标志。</span><br><span class="line"> os.read(fd, n):从文件描述符 fd 中读取至多 n 个字节。</span><br><span class="line"> os.sendfile(out, <span class="keyword">in</span>, offset, count, [headers, ][trailers, ]flags=<span class="number">0</span>):将文件描述符 <span class="keyword">in</span> 中的 count 字节复制到文件描述符 out 的偏移位置 offset 处。返回复制的字节数，如果到达 EOF，返回 <span class="number">0</span>。</span><br><span class="line"> os.set_blocking(fd, blocking):设置指定文件描述符的阻塞模式：如果 blocking 为 <span class="literal">False</span>，则为该描述符设置 O_NONBLOCK 标志位，反之则清除该标志位。</span><br><span class="line"> os.readv(fd, buffers):从文件描述符 fd 将数据读取至多个可变的 字节类对象 缓冲区 buffers 中。</span><br><span class="line"> os.tcgetpgrp(fd):返回与 fd 指定的终端相关联的进程组（fd 是由 os.open() 返回的已打开的文件描述符）</span><br><span class="line"> os.tcsetpgrp(fd, pg):设置与 fd 指定的终端相关联的进程组为 pg*（*fd 是由 os.open() 返回的已打开的文件描述符）。</span><br><span class="line"> os.ttyname(fd):返回一个字符串，该字符串表示与文件描述符 fd 关联的终端。</span><br><span class="line"> os.write(fd, str):将 str 中的字节串 (bytestring) 写入文件描述符 fd。</span><br><span class="line"> os.writev(fd, buffers):将缓冲区 buffers 的内容写入文件描述符 fd。</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询终端的尺寸</span></span><br><span class="line"> os.get_terminal_size(fd=STDOUT_FILENO):返回终端窗口的尺寸，格式为 (columns, lines)，它是类型为 terminal_size 的元组。</span><br><span class="line"> os.terminal_size:元组的子类，存储终端窗口尺寸 (columns, lines)。</span><br><span class="line"></span><br><span class="line"><span class="comment"># 文件描述符的继承</span></span><br><span class="line"> os.get_inheritable(fd):获取指定文件描述符的“可继承”标志位（为布尔值）。</span><br><span class="line"> os.set_inheritable(fd, inheritable):设置指定文件描述符的“可继承”标志位。</span><br><span class="line"> os.get_handle_inheritable(handle):获取指定句柄的“可继承”标志位（为布尔值）。</span><br><span class="line"> os.set_handle_inheritable(handle, inheritable):设置指定句柄的“可继承”标志位。</span><br></pre></td></tr></table></figure>

<ul>
<li>文件和目录</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">os.access(path, mode, *, dir_fd=<span class="literal">None</span>, effective_ids=<span class="literal">False</span>, follow_symlinks=<span class="literal">True</span>):使用 实际用户ID/用户组ID 测试对 path 的访问。</span><br><span class="line">os.chdir(path):将当前工作目录更改为 path。</span><br><span class="line">os.chflags(path, flags, *, follow_symlinks=<span class="literal">True</span>):将 path 的 flags 设置为其他由数字表示的 flags。</span><br><span class="line">os.chmod(path, mode, *, dir_fd=<span class="literal">None</span>, follow_symlinks=<span class="literal">True</span>):将 path 的 mode 更改为其他由数字表示的 mode。 </span><br><span class="line">os.chown(path, uid, gid, *, dir_fd=<span class="literal">None</span>, follow_symlinks=<span class="literal">True</span>):将 path 的用户和组 ID 分别修改为数字形式的 uid 和 gid。 </span><br><span class="line">os.chroot(path):将当前进程的根目录更改为 path。 </span><br><span class="line">os.fchdir(fd):将当前工作目录更改为文件描述符 fd 指向的目录。fd 必须指向打开的目录而非文件。从 Python <span class="number">3.3</span> 开始，它等效于 os.chdir(fd)。</span><br><span class="line">os.getcwd():返回表示当前工作目录的字符串。</span><br><span class="line">os.getcwdb():返回表示当前工作目录的字节串 (bytestring)。</span><br><span class="line">os.lchflags(path, flags):将 path 的 flags 设置为其他由数字表示的 flags，与 chflags() 类似，但不跟踪符号链接。</span><br><span class="line">os.lchmod(path, mode):将 path 的权限状态修改为 mode。</span><br><span class="line">os.lchown(path, uid, gid):将 path 的用户和组 ID 分别修改为数字形式的 uid 和 gid，本函数不跟踪符号链接。从 Python <span class="number">3.3</span> 开始，它等效于 os.chown(path, uid, gid, follow_symlinks=<span class="literal">False</span>)。</span><br><span class="line">os.link(src, dst, *, src_dir_fd=<span class="literal">None</span>, dst_dir_fd=<span class="literal">None</span>, follow_symlinks=<span class="literal">True</span>):创建一个指向 src 的硬链接，名为 dst。</span><br><span class="line">os.listdir(path=<span class="string">'.'</span>):返回一个列表，该列表包含了 path 中所有文件与目录的名称。</span><br><span class="line">os.lstat(path, *, dir_fd=<span class="literal">None</span>)：在给定路径上执行本函数，其操作相当于 lstat() 系统调用，类似于 stat() 但不跟踪符号链接。返回值是 stat_result 对象。</span><br><span class="line">os.mkdir(path, mode=<span class="number">0o777</span>, *, dir_fd=<span class="literal">None</span>):创建目录path，并使用数字定义模式。</span><br><span class="line">os.makedirs(name, mode=<span class="number">0o777</span>, exist_ok=<span class="literal">False</span>):Recursive directory creation function. Like mkdir(), but makes all intermediate-level directories needed to contain the leaf directory.</span><br><span class="line">os.rmdir(path, *, dir_fd=<span class="literal">None</span>):Remove (delete) the directory path.</span><br><span class="line">os.stat(path, *, dir_fd=<span class="literal">None</span>, follow_symlinks=<span class="literal">True</span>): Get the status of a file <span class="keyword">or</span> a file descriptor.</span><br><span class="line">os.walk(top, topdown=<span class="literal">True</span>, onerror=<span class="literal">None</span>, followlinks=<span class="literal">False</span>):Generate the file names <span class="keyword">in</span> a directory tree by walking the tree either top-down <span class="keyword">or</span> bottom-up. For each directory <span class="keyword">in</span> the tree rooted at directory top (including top itself), it yields a <span class="number">3</span>-tuple (dirpath, dirnames, filenames).</span><br></pre></td></tr></table></figure>

<ul>
<li>进程管理</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">os.abort():Generate a SIGABRT signal to the current process.</span><br><span class="line">os.add_dll_directory(path):Add a path to the DLL search path.</span><br><span class="line"></span><br><span class="line">These functions all execute a new program, replacing the current process; they do <span class="keyword">not</span> <span class="keyword">return</span>.</span><br><span class="line">   os.execl(path, arg0, arg1, ...)</span><br><span class="line">   os.execle(path, arg0, arg1, ..., env)</span><br><span class="line">   os.execlp(file, arg0, arg1, ...)</span><br><span class="line">   os.execlpe(file, arg0, arg1, ..., env)</span><br><span class="line">   os.execv(path, args)</span><br><span class="line">   os.execve(path, args, env)</span><br><span class="line">   os.execvp(file, args)</span><br><span class="line">   os.execvpe(file, args, env)</span><br><span class="line"></span><br><span class="line">Execute the program path <span class="keyword">in</span> a new process.</span><br><span class="line">   os.spawnl(mode, path, ...)</span><br><span class="line">   os.spawnle(mode, path, ..., env)</span><br><span class="line">   os.spawnlp(mode, file, ...)</span><br><span class="line">   os.spawnlpe(mode, file, ..., env)</span><br><span class="line">   os.spawnv(mode, path, args)</span><br><span class="line">   os.spawnve(mode, path, args, env)</span><br><span class="line">   os.spawnvp(mode, file, args)</span><br><span class="line">   os.spawnvpe(mode, file, args, env)</span><br></pre></td></tr></table></figure>

<ul>
<li>调度器接口</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">os.sched_get_priority_min(policy):获取 policy 的最小优先级数值。 policy 是以上调度策略常量之一。</span><br><span class="line">os.sched_get_priority_max(policy):获取 policy 的最高优先级数值。 policy 是以上调度策略常量之一。</span><br></pre></td></tr></table></figure>

<ul>
<li>杂项系统信息</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">os.confstr(name):Return string-valued system configuration values.</span><br><span class="line">os.cpu_count():Return the number of CPUs <span class="keyword">in</span> the system.该数量不同于当前进程可以使用的CPU数量。可用的CPU数量可以由 len(os.sched_getaffinity(<span class="number">0</span>)) 方法获得。</span><br><span class="line">os.curdir:The constant string used by the operating system to refer to the current directory.</span><br><span class="line">os.pardir:The constant string used by the operating system to refer to the parent directory.</span><br><span class="line">os.sep:The character used by the operating system to separate pathname components.</span><br></pre></td></tr></table></figure>

<ul>
<li>随机数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">os.getrandom(size, flags=<span class="number">0</span>):Get up to size random bytes.</span><br><span class="line">os.urandom(size):Return a string of size random bytes suitable <span class="keyword">for</span> cryptographic use.</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="sys模块"><a href="#sys模块" class="headerlink" title="sys模块"></a>sys模块</h3><h4 id="sys模块介绍"><a href="#sys模块介绍" class="headerlink" title="sys模块介绍"></a>sys模块介绍</h4><p>该模块提供了一些变量和函数。这些变量可能被解释器使用，也可能由解释器提供。</p>
<h4 id="sys模块常用方法"><a href="#sys模块常用方法" class="headerlink" title="sys模块常用方法"></a>sys模块常用方法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sys.argv: 命令行参数List，第一个元素是程序本身路径</span><br><span class="line">sys.exit(n): 退出程序，正常退出时exit(<span class="number">0</span>),错误退出sys.exit(<span class="number">1</span>)</span><br><span class="line">sys.version: 获取Python解释程序的版本信息</span><br><span class="line">sys.path: 返回模块的搜索路径，初始化时使用PYTHONPATH环境变量的值</span><br><span class="line">sys.platform: 返回操作系统平台名称</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="序列化相关模块"><a href="#序列化相关模块" class="headerlink" title="序列化相关模块"></a>序列化相关模块</h3><h4 id="序列化概念"><a href="#序列化概念" class="headerlink" title="序列化概念"></a>序列化概念</h4><p>wiki中对于序列化的解释：在计算机科学的数据处理中，是指将数据结构或对象状态转换成可取用格式（例如存成文件，存于缓冲，或经由网络中发送），以留待后续在相同或另一台计算机环境中，能恢复原先状态的过程。<br>简而言之，将原本的字典、列表等内容转换成一个字符串的过程叫做序列化，其反过程叫反序列化。</p>
<h4 id="序列化目的"><a href="#序列化目的" class="headerlink" title="序列化目的"></a>序列化目的</h4><ul>
<li>以某种存储形式使自定义对象持久化</li>
<li>将对象从一个地方传递到另一个地方</li>
<li>使程序更具维护性</li>
</ul>
<h4 id="序列化相关模块介绍"><a href="#序列化相关模块介绍" class="headerlink" title="序列化相关模块介绍"></a>序列化相关模块介绍</h4><ul>
<li>json: 由 RFC 7159 (which obsoletes RFC 4627) 和 ECMA-404 指定，是一个受 JavaScript 的对象字面量语法启发的轻量级数据交换格式，尽管它不仅仅是一个严格意义上的 JavaScript 的字集。</li>
<li>pickle: 模块 pickle 实现了对一个 Python 对象结构的二进制序列化和反序列化。</li>
<li>shelve: “Shelf” 是一种持久化的类似字典的对象。 与 “dbm” 数据库的区别在于 Shelf 中的值（不是键！）实际上可以为任意 Python 对象, 即 pickle 模块能够处理的任何东西。</li>
<li>marshal: 此模块包含一此能以二进制格式来读写 Python 值的函数。这不是一个通用的“持久化”模块。 对于通用的持久化以及通过 RPC 调用传递 Python 对象，请参阅 pickle 和 shelve 等模块。</li>
</ul>
<h4 id="序列化相关模块常用方法"><a href="#序列化相关模块常用方法" class="headerlink" title="序列化相关模块常用方法"></a>序列化相关模块常用方法</h4><ul>
<li>json: 用于字符串(包括其他支持json的语言)和python数据类型间进行转换</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ---------------</span></span><br><span class="line"><span class="comment"># 序列化dumps</span></span><br><span class="line"><span class="comment"># ---------------</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="comment"># 序列化列表list</span></span><br><span class="line">print(json.dumps([<span class="string">'foo'</span>, &#123;<span class="string">'bar'</span>: (<span class="string">'baz'</span>, <span class="literal">None</span>, <span class="number">1.0</span>, <span class="number">2</span>)&#125;]))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'["foo", &#123;"bar": ["baz", null, 1.0, 2]&#125;]'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 序列化字符串string</span></span><br><span class="line">print(json.dumps(<span class="string">"\"foo\bar"</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">"\"foo\bar"</span></span><br><span class="line"></span><br><span class="line">print(json.dumps(<span class="string">'\u1234'</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">"\u1234"</span></span><br><span class="line"></span><br><span class="line">print(json.dumps(<span class="string">'\\'</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">"\\"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 序列化字典dict</span></span><br><span class="line">print(json.dumps(&#123;<span class="string">"c"</span>: <span class="number">0</span>, <span class="string">"b"</span>: <span class="number">0</span>, <span class="string">"a"</span>: <span class="number">0</span>&#125;, sort_keys=<span class="literal">True</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;"a": 0, "b": 0, "c": 0&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------</span></span><br><span class="line"><span class="comment"># 反序列化loads</span></span><br><span class="line"><span class="comment"># ---------------</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">print(json.loads(<span class="string">'["foo", &#123;"bar":["baz", null, 1.0, 2]&#125;]'</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="string">'foo'</span>, &#123;<span class="string">'bar'</span>: [<span class="string">'baz'</span>, <span class="literal">None</span>, <span class="number">1.0</span>, <span class="number">2</span>]&#125;]</span><br><span class="line"></span><br><span class="line">json.loads(<span class="string">'"\\"foo\\bar"'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'"foo\x08ar'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------</span></span><br><span class="line"><span class="comment"># 序列化dump(文件)</span></span><br><span class="line"><span class="comment"># ---------------</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">dic = &#123;<span class="string">'k1'</span>:<span class="string">'v1'</span>,<span class="string">'k2'</span>:<span class="string">'v2'</span>,<span class="string">'k3'</span>:<span class="string">'v3'</span>&#125;</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'json_file'</span>,mode=<span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    dic_fd=json.dump(dic,f)</span><br><span class="line"><span class="comment"># 文件中的内容：</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;<span class="string">"k3"</span>: <span class="string">"v3"</span>, <span class="string">"k2"</span>: <span class="string">"v2"</span>, <span class="string">"k1"</span>: <span class="string">"v1"</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------</span></span><br><span class="line"><span class="comment"># 反序列化load(文件)</span></span><br><span class="line"><span class="comment"># ---------------</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'json_file'</span>,mode=<span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    dic_fs=json.load(f)</span><br><span class="line">print(dic_fs)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;<span class="string">'k1'</span>: <span class="string">'v1'</span>, <span class="string">'k3'</span>: <span class="string">'v3'</span>, <span class="string">'k2'</span>: <span class="string">'v2'</span>&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>shelve: 只提供一个open方法，用key来访问，使用起来与字典类似</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ---------------</span></span><br><span class="line"><span class="comment"># 序列化(文件)</span></span><br><span class="line"><span class="comment"># ---------------</span></span><br><span class="line"><span class="keyword">import</span> shelve</span><br><span class="line"><span class="keyword">with</span> shelve.open(<span class="string">'shelve_file'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f[<span class="string">'key'</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------</span></span><br><span class="line"><span class="comment"># 反序列化(文件)</span></span><br><span class="line"><span class="comment"># ---------------</span></span><br><span class="line"><span class="keyword">import</span> shelve</span><br><span class="line"><span class="keyword">with</span> shelve.open(<span class="string">'shelve_file'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = f[<span class="string">'key'</span>]</span><br><span class="line">print(data)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------</span></span><br><span class="line"><span class="comment"># 额外支持的两个方法</span></span><br><span class="line"><span class="comment"># ---------------</span></span><br><span class="line">Shelf.sync(): 如果 Shelf 打开时将 writeback 设为 <span class="literal">True</span> 则写回缓存中的所有条目。 如果可行还会清空缓存并将持久化字典同步到磁盘。 此方法会在使用 close() 关闭 Shelf 时自动被调用。</span><br><span class="line">Shelf.close():同步并关闭持久化 dict 对象。 对已关闭 Shelf 的操作将失败并引发 ValueError。</span><br></pre></td></tr></table></figure>

<ul>
<li>pickle: 用于python特有的类型和python的数据类型间进行转换</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ---------------</span></span><br><span class="line"><span class="comment"># 序列化dumps</span></span><br><span class="line"><span class="comment"># ---------------</span></span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"></span><br><span class="line"><span class="comment"># 序列化列表list</span></span><br><span class="line">print(pickle.dumps([<span class="string">'foo'</span>, &#123;<span class="string">'bar'</span>: (<span class="string">'baz'</span>, <span class="literal">None</span>, <span class="number">1.0</span>, <span class="number">2</span>)&#125;]))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">b'\x80\x03]q\x00(X\x03\x00\x00\x00fooq\x01&#125;q\x02X\x03\x00\x00\x00barq\x03(X\x03\x00\x00\x00bazq\x04NG?\xf0\x00\x00\x00\x00\x00\x00K\x02tq\x05se.'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 序列化字符串string</span></span><br><span class="line">print(pickle.dumps(<span class="string">"\"foo\bar"</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">b'\x80\x03X\x07\x00\x00\x00"foo\x08arq\x00.'</span></span><br><span class="line"></span><br><span class="line">print(pickle.dumps(<span class="string">'\u1234'</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">b'\x80\x03X\x03\x00\x00\x00\xe1\x88\xb4q\x00.'</span></span><br><span class="line"></span><br><span class="line">print(pickle.dumps(<span class="string">'\\'</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">b'\x80\x03X\x01\x00\x00\x00\\q\x00.'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 序列化字典dict</span></span><br><span class="line">print(pickle.dumps(&#123;<span class="string">"c"</span>: <span class="number">0</span>, <span class="string">"b"</span>: <span class="number">0</span>, <span class="string">"a"</span>: <span class="number">0</span>&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">b'\x80\x03&#125;q\x00(X\x01\x00\x00\x00cq\x01K\x00X\x01\x00\x00\x00bq\x02K\x00X\x01\x00\x00\x00aq\x03K\x00u.'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------</span></span><br><span class="line"><span class="comment"># 反序列化loads</span></span><br><span class="line"><span class="comment"># ---------------</span></span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line">print(pickle.loads(<span class="string">b'\x80\x03]q\x00(X\x03\x00\x00\x00fooq\x01&#125;q\x02X\x03\x00\x00\x00barq\x03(X\x03\x00\x00\x00bazq\x04NG?\xf0\x00\x00\x00\x00\x00\x00K\x02tq\x05se.'</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="string">'foo'</span>, &#123;<span class="string">'bar'</span>: [<span class="string">'baz'</span>, <span class="literal">None</span>, <span class="number">1.0</span>, <span class="number">2</span>]&#125;]</span><br><span class="line"></span><br><span class="line">print(pickle.loads(<span class="string">b'\x80\x03X\x07\x00\x00\x00"foo\x08arq\x00.'</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'"foo\x08ar'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------</span></span><br><span class="line"><span class="comment"># 序列化dump(文件)</span></span><br><span class="line"><span class="comment"># ---------------</span></span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line">dic = &#123;<span class="string">'k1'</span>:<span class="string">'v1'</span>,<span class="string">'k2'</span>:<span class="string">'v2'</span>,<span class="string">'k3'</span>:<span class="string">'v3'</span>&#125;</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'pickle_file'</span>,mode=<span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    dic_fd=pickle.dump(dic,f)</span><br><span class="line"><span class="comment"># 文件中的内容：</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">8003</span> <span class="number">7</span>d71 <span class="number">0028</span> <span class="number">5802</span> <span class="number">0000</span> <span class="number">006</span>b <span class="number">3171</span> <span class="number">0158</span></span><br><span class="line"><span class="number">0200</span> <span class="number">0000</span> <span class="number">7631</span> <span class="number">7102</span> <span class="number">5802</span> <span class="number">0000</span> <span class="number">006</span>b <span class="number">3271</span></span><br><span class="line"><span class="number">0358</span> <span class="number">0200</span> <span class="number">0000</span> <span class="number">7632</span> <span class="number">7104</span> <span class="number">5802</span> <span class="number">0000</span> <span class="number">006</span>b</span><br><span class="line"><span class="number">3371</span> <span class="number">0558</span> <span class="number">0200</span> <span class="number">0000</span> <span class="number">7633</span> <span class="number">7106</span> <span class="number">752</span>e </span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------</span></span><br><span class="line"><span class="comment"># 反序列化load(文件)</span></span><br><span class="line"><span class="comment"># ---------------</span></span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'pickle_file'</span>,mode=<span class="string">'rb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    dic_fs=pickle.load(f)</span><br><span class="line">print(dic_fs)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;<span class="string">'k1'</span>: <span class="string">'v1'</span>, <span class="string">'k3'</span>: <span class="string">'v3'</span>, <span class="string">'k2'</span>: <span class="string">'v2'</span>&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>marshal：Python 有一个更原始的序列化模块称为 marshal，但一般地 pickle 应该是序列化 Python 对象时的首选。marshal 存在主要是为了支持 Python 的 <code>.pyc</code> 文件.</li>
</ul>
<h4 id="Pickle-vs-Json-vs-Marshal"><a href="#Pickle-vs-Json-vs-Marshal" class="headerlink" title="Pickle vs Json vs Marshal"></a><code>Pickle</code> vs <code>Json</code> vs <code>Marshal</code></h4><ul>
<li><p><code>pickle</code> vs <code>json</code></p>
<ul>
<li>pickle 模块会跟踪已被序列化的对象，所以该对象之后再次被引用时不会再次被序列化。marshal 不会这么做。</li>
<li>这隐含了递归对象和共享对象。递归对象指包含对自己的引用的对象。这种对象并不会被 marshal 接受，并且实际上尝试 marshal 递归对象会让你的 Python 解释器崩溃。对象共享发生在对象层级中存在多处引用同一对象时。pickle 只会存储这些对象一次，并确保其他的引用指向同一个主副本。共享对象将保持共享，这可能对可变对象非常重要。</li>
<li>marshal 不能被用于序列化用户定义类及其实例。pickle 能够透明地存储并保存类实例，然而此时类定义必须能够从与被存储时相同的模块被引入。</li>
<li>同样用于序列化的 marshal 格式不保证数据能移植到不同的 Python 版本中。因为它的主要任务是支持 .pyc 文件，必要时会以破坏向后兼容的方式更改这种序列化格式，为此 Python 的实现者保留了更改格式的权利。pickle 序列化格式可以在不同版本的 Python 中实现向后兼容，前提是选择了合适的 pickle 协议。如果你的数据要在 Python 2 与 Python 3 之间跨越传递，封存和解封的代码在 2 和 3 之间也是不同的。</li>
</ul>
</li>
<li><p><code>pickle</code> vs <code>marshal</code></p>
<ul>
<li>JSON 是一个文本序列化格式（它输出 unicode 文本，尽管在大多数时候它会接着以 utf-8 编码），而 pickle 是一个二进制序列化格式；</li>
<li>JSON 是我们可以直观阅读的，而 pickle 不是；</li>
<li>JSON是可互操作的，在Python系统之外广泛使用，而pickle则是Python专用的；</li>
<li>默认情况下，JSON 只能表示 Python 内置类型的子集，不能表示自定义的类；但 pickle 可以表示大量的 Python 数据类型（可以合理使用 Python 的对象内省功能自动地表示大多数类型，复杂情况可以通过实现 specific object APIs 来解决）。</li>
<li>不像pickle，对一个不信任的JSON进行反序列化的操作本身不会造成任意代码执行漏洞。</li>
</ul>
</li>
</ul>
<hr>
<h3 id="hashlib模块"><a href="#hashlib模块" class="headerlink" title="hashlib模块"></a>hashlib模块</h3><h4 id="hashlib模块介绍"><a href="#hashlib模块介绍" class="headerlink" title="hashlib模块介绍"></a>hashlib模块介绍</h4><p>该模块为许多不同的安全哈希和消息摘要算法实现了一个通用接口。包括FIPS安全哈希算法SHA1，SHA224，SHA256，SHA384和SHA512以及RSA的MD5算法。术语“安全哈希”和“消息摘要”是等价的，旧称消息摘要，现在称安全哈希。</p>
<h4 id="hashlib的作用"><a href="#hashlib的作用" class="headerlink" title="hashlib的作用"></a>hashlib的作用</h4><p>它通过一个函数，把任意长度的数据转换为一个长度固定的数据串，用以验证原始数据是否被篡改，保证数据的一致性。</p>
<h4 id="hashlib模块应用场景"><a href="#hashlib模块应用场景" class="headerlink" title="hashlib模块应用场景"></a>hashlib模块应用场景</h4><ul>
<li>摘要算法</li>
<li>密码的密文存储</li>
<li>文件的一致性验证</li>
</ul>
<h4 id="hashlib模块示例"><a href="#hashlib模块示例" class="headerlink" title="hashlib模块示例"></a>hashlib模块示例</h4><ul>
<li>MD5</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用md5进行哈希</span></span><br><span class="line">md5 = hashlib.md5()</span><br><span class="line">md5.update(<span class="string">b'life is short'</span>)</span><br><span class="line">print(md5.hexdigest())</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">617</span>d2b938b9b59b347b92f19f84436bd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用sha256进行哈希</span></span><br><span class="line">m = hashlib.sha256()</span><br><span class="line">m.update(<span class="string">b"Nobody inspects"</span>)</span><br><span class="line">m.update(<span class="string">b" the spammish repetition"</span>)</span><br><span class="line">m.digest()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">b'\x03\x1e\xdd&#125;Ae\x15\x93\xc5\xfe\\\x00o\xa5u+7\xfd\xdf\xf7\xbcN\x84:\xa6\xaf\x0c\x95\x0fK\x94\x06'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用sha224进行哈希</span></span><br><span class="line">hashlib.sha224(<span class="string">b"Nobody inspects the spammish repetition"</span>).hexdigest()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'a4337bc45a8fc544c03f52dc550cd6e1e87021bc896588bd79e901e2'</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="configparser模块"><a href="#configparser模块" class="headerlink" title="configparser模块"></a>configparser模块</h3><h4 id="configparser模块介绍"><a href="#configparser模块介绍" class="headerlink" title="configparser模块介绍"></a>configparser模块介绍</h4><p>该模块提供了ConfigParser类，该类实现了一种基本配置语言，该语言提供的结构类似于Microsoft Windows INI文件中的结构。您可以使用它来编写可由最终用户轻松定制的Python程序。</p>
<h4 id="configparser模块示例"><a href="#configparser模块示例" class="headerlink" title="configparser模块示例"></a>configparser模块示例</h4><ul>
<li>常见配置文档格式</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[DEFAULT]</span><br><span class="line">ServerAliveInterval = <span class="number">45</span></span><br><span class="line">Compression = yes</span><br><span class="line">CompressionLevel = <span class="number">9</span></span><br><span class="line">ForwardX11 = yes</span><br><span class="line"></span><br><span class="line">[bitbucket.org]</span><br><span class="line">User = hg</span><br><span class="line"></span><br><span class="line">[topsecret.server.com]</span><br><span class="line">Port = <span class="number">50022</span></span><br><span class="line">ForwardX11 = no</span><br></pre></td></tr></table></figure>

<ul>
<li>configparser创建Python配置文档</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用configparser实现上述配置文件</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> configparser</span><br><span class="line">config = configparser.ConfigParser()</span><br><span class="line">config[<span class="string">'DEFAULT'</span>] = &#123;</span><br><span class="line">                        <span class="string">'ServerAliveInterval'</span>: <span class="string">'45'</span>,</span><br><span class="line">                        <span class="string">'Compression'</span>: <span class="string">'yes'</span>,</span><br><span class="line">                        <span class="string">'CompressionLevel'</span>: <span class="string">'9'</span></span><br><span class="line">                    &#125;</span><br><span class="line">config[<span class="string">'bitbucket.org'</span>] = &#123;&#125;</span><br><span class="line">config[<span class="string">'bitbucket.org'</span>][<span class="string">'User'</span>] = <span class="string">'hg'</span></span><br><span class="line">config[<span class="string">'topsecret.server.com'</span>] = &#123;&#125;</span><br><span class="line">topsecret = config[<span class="string">'topsecret.server.com'</span>]</span><br><span class="line">topsecret[<span class="string">'Port'</span>] = <span class="string">'50022'</span></span><br><span class="line">topsecret[<span class="string">'ForwardX11'</span>] = <span class="string">'no'</span></span><br><span class="line">config[<span class="string">'DEFAULT'</span>][<span class="string">'ForwardX11'</span>] = <span class="string">'yes'</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'example.ini'</span>, <span class="string">'w'</span>) <span class="keyword">as</span> configfile:</span><br><span class="line">    config.write(configfile)</span><br></pre></td></tr></table></figure>

<ul>
<li>增删改查CURD操作</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># --------</span></span><br><span class="line"><span class="comment"># 增</span></span><br><span class="line"><span class="comment"># --------</span></span><br><span class="line"><span class="keyword">import</span> configparser</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用set方法增加配置</span></span><br><span class="line">config = configparser.ConfigParser()</span><br><span class="line">config.add_section(<span class="string">'new_added'</span>)</span><br><span class="line">config.set(<span class="string">'new_added'</span>,<span class="string">'config_key_1'</span>,<span class="string">'Value'</span>)</span><br><span class="line">config.write(open(<span class="string">'sample_add.ini'</span>, <span class="string">"w"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># --------</span></span><br><span class="line"><span class="comment"># 删</span></span><br><span class="line"><span class="comment"># --------</span></span><br><span class="line"><span class="keyword">import</span> configparser</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用remove_section/remove_option方法删除</span></span><br><span class="line">config = configparser.ConfigParser()</span><br><span class="line">config.read(<span class="string">'sample.ini'</span>)</span><br><span class="line">config.remove_section(<span class="string">'new_added'</span>)</span><br><span class="line">config.remove_option(<span class="string">'new_added_2'</span>,<span class="string">"config_key_2"</span>)</span><br><span class="line">config.write(open(<span class="string">'sample_del.ini'</span>, <span class="string">"w"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># --------</span></span><br><span class="line"><span class="comment"># 改</span></span><br><span class="line"><span class="comment"># --------</span></span><br><span class="line"><span class="keyword">import</span> configparser</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用read读取，set方法进行覆盖修改操作</span></span><br><span class="line">config = configparser.ConfigParser()</span><br><span class="line">config.read(<span class="string">'sample.ini'</span>)</span><br><span class="line">config.set(<span class="string">'config_section_2'</span>,<span class="string">'user'</span>,<span class="string">'python'</span>)</span><br><span class="line">config.write(open(<span class="string">'sample_modi.ini'</span>, <span class="string">"w"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># --------</span></span><br><span class="line"><span class="comment"># 查</span></span><br><span class="line"><span class="comment"># --------</span></span><br><span class="line"><span class="keyword">import</span> configparser</span><br><span class="line"></span><br><span class="line"><span class="comment"># 类似于字典的方式进行查询操作</span></span><br><span class="line">config = configparser.ConfigParser()</span><br><span class="line">print(config.sections())</span><br><span class="line"></span><br><span class="line">config.read(<span class="string">'example.ini'</span>)</span><br><span class="line"></span><br><span class="line">print(config.sections())</span><br><span class="line">print(<span class="string">'bitbucket.org'</span> <span class="keyword">in</span> config) <span class="comment"># True</span></span><br><span class="line">print(config[<span class="string">'bitbucket.org'</span>][<span class="string">"user"</span>])</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="logging模块"><a href="#logging模块" class="headerlink" title="logging模块"></a>logging模块</h3><h4 id="logging模块介绍"><a href="#logging模块介绍" class="headerlink" title="logging模块介绍"></a>logging模块介绍</h4><p>logging模块为应用与库定义了实现灵活的事件日志系统的函数与类。</p>
<h4 id="logging模块详解"><a href="#logging模块详解" class="headerlink" title="logging模块详解"></a>logging模块详解</h4><ul>
<li>日志级别</li>
</ul>
<table>
<thead>
<tr>
<th>级别</th>
<th>数值</th>
</tr>
</thead>
<tbody><tr>
<td>CRITICAL</td>
<td>50</td>
</tr>
<tr>
<td>ERROR</td>
<td>40</td>
</tr>
<tr>
<td>WARNING</td>
<td>30</td>
</tr>
<tr>
<td>INFO</td>
<td>20</td>
</tr>
<tr>
<td>DEBUG</td>
<td>10</td>
</tr>
<tr>
<td>NOTSET</td>
<td>0</td>
</tr>
</tbody></table>
<ul>
<li>Log相关对象</li>
</ul>
<table>
<thead>
<tr>
<th>对象类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>Logger</td>
<td>日志，暴露函数给应用程序，基于日志记录器和过滤器级别决定哪些日志有效。</td>
</tr>
<tr>
<td>LogRecord</td>
<td>日志记录器，将日志传到相应的处理器处理。</td>
</tr>
<tr>
<td>Handler</td>
<td>处理器, 将(日志记录器产生的)日志记录发送至合适的目的地。</td>
</tr>
<tr>
<td>Filter</td>
<td>过滤器, 提供了更好的粒度控制,它可以决定输出哪些日志记录。</td>
</tr>
<tr>
<td>Formatter</td>
<td>格式化器, 指明了最终输出中日志记录的布局。</td>
</tr>
</tbody></table>
<ul>
<li>basicConfig()方式</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line">logging.basicConfig(filename=<span class="string">"logging.log"</span>, filemode=<span class="string">"w"</span>, format=<span class="string">"%(asctime)s %(name)s:%(levelname)s:%(message)s"</span>, datefmt=<span class="string">"%d-%M-%Y %H:%M:%S"</span>, level=logging.DEBUG)</span><br><span class="line">logging.debug(<span class="string">'This is a debug message'</span>)</span><br><span class="line">logging.info(<span class="string">'This is an info message'</span>)</span><br><span class="line">logging.warning(<span class="string">'This is a warning message'</span>)</span><br><span class="line">logging.error(<span class="string">'This is an error message'</span>)</span><br><span class="line">logging.critical(<span class="string">'This is a critical message'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出至logging.log文件中</span></span><br><span class="line"><span class="number">19</span><span class="number">-10</span><span class="number">-18</span> <span class="number">14</span>:<span class="number">28</span>:<span class="number">57</span> root:DEBUG:This <span class="keyword">is</span> a debug message</span><br><span class="line"><span class="number">19</span><span class="number">-10</span><span class="number">-18</span> <span class="number">14</span>:<span class="number">28</span>:<span class="number">57</span> root:INFO:This <span class="keyword">is</span> an info message</span><br><span class="line"><span class="number">19</span><span class="number">-10</span><span class="number">-18</span> <span class="number">14</span>:<span class="number">28</span>:<span class="number">57</span> root:WARNING:This <span class="keyword">is</span> a warning message</span><br><span class="line"><span class="number">19</span><span class="number">-10</span><span class="number">-18</span> <span class="number">14</span>:<span class="number">28</span>:<span class="number">57</span> root:ERROR:This <span class="keyword">is</span> an error message</span><br><span class="line"><span class="number">19</span><span class="number">-10</span><span class="number">-18</span> <span class="number">14</span>:<span class="number">28</span>:<span class="number">57</span> root:CRITICAL:This <span class="keyword">is</span> a critical message</span><br></pre></td></tr></table></figure>

<ul>
<li>logging对象方式：解决了basicconfig方式的中文支持问题和终端、文本同时输出的问题，推荐使用</li>
</ul>
<blockquote>
<p>注意永远不要直接实例化Loggers，应当通过模块级别的函数 logging.getLogger(name)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 分别定义终端、文件中的日志输出级别，可以设置 Logger 对象为最低级别，之后设置两个不同级别的Handler 对象来实现。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">import</span> logging.handlers</span><br><span class="line"></span><br><span class="line">logger = logging.getLogger(<span class="string">"logger"</span>)</span><br><span class="line"></span><br><span class="line">handler_console = logging.StreamHandler()</span><br><span class="line">handler_file = logging.FileHandler(filename=<span class="string">"logging.log"</span>)</span><br><span class="line"></span><br><span class="line">logger.setLevel(logging.DEBUG)  <span class="comment"># 级别为30</span></span><br><span class="line">handler_console.setLevel(logging.WARNING)  <span class="comment"># 级别为10</span></span><br><span class="line">handler_file.setLevel(logging.DEBUG)  <span class="comment"># 级别为30</span></span><br><span class="line"></span><br><span class="line">formatter = logging.Formatter(<span class="string">"%(asctime)s %(name)s %(levelname)s %(message)s"</span>)</span><br><span class="line">handler_console.setFormatter(formatter)</span><br><span class="line">handler_file.setFormatter(formatter)</span><br><span class="line"></span><br><span class="line">logger.addHandler(handler_console)</span><br><span class="line">logger.addHandler(handler_file)</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(handler1.level)  # 10</span></span><br><span class="line"><span class="comment"># print(handler2.level)  # 30</span></span><br><span class="line"><span class="comment"># print(logger.level)  # 30</span></span><br><span class="line"></span><br><span class="line">logger.debug(<span class="string">'This is a customer debug message'</span>)</span><br><span class="line">logger.info(<span class="string">'This is an customer info message'</span>)</span><br><span class="line">logger.warning(<span class="string">'This is a customer warning message'</span>)</span><br><span class="line">logger.error(<span class="string">'This is an customer error message'</span>)</span><br><span class="line">logger.critical(<span class="string">'This is a customer critical message'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 控制台输出结果</span></span><br><span class="line"><span class="number">2019</span><span class="number">-10</span><span class="number">-18</span> <span class="number">15</span>:<span class="number">29</span>:<span class="number">54</span>,<span class="number">392</span> logger WARNING This <span class="keyword">is</span> a customize warning message</span><br><span class="line"><span class="number">2019</span><span class="number">-10</span><span class="number">-18</span> <span class="number">15</span>:<span class="number">29</span>:<span class="number">54</span>,<span class="number">392</span> logger ERROR This <span class="keyword">is</span> an customize error message</span><br><span class="line"><span class="number">2019</span><span class="number">-10</span><span class="number">-18</span> <span class="number">15</span>:<span class="number">29</span>:<span class="number">54</span>,<span class="number">392</span> logger CRITICAL This <span class="keyword">is</span> a customize critical message</span><br><span class="line"></span><br><span class="line"><span class="comment"># 文件输出结果</span></span><br><span class="line"><span class="number">2019</span><span class="number">-10</span><span class="number">-13</span> <span class="number">15</span>:<span class="number">30</span>:<span class="number">13</span>,<span class="number">417</span> logger DEBUG This <span class="keyword">is</span> a customize debug message</span><br><span class="line"><span class="number">2019</span><span class="number">-10</span><span class="number">-13</span> <span class="number">15</span>:<span class="number">30</span>:<span class="number">13</span>,<span class="number">417</span> logger INFO This <span class="keyword">is</span> an customize info message</span><br><span class="line"><span class="number">2019</span><span class="number">-10</span><span class="number">-13</span> <span class="number">15</span>:<span class="number">30</span>:<span class="number">13</span>,<span class="number">417</span> logger WARNING This <span class="keyword">is</span> a customize warning message</span><br><span class="line"><span class="number">2019</span><span class="number">-10</span><span class="number">-13</span> <span class="number">15</span>:<span class="number">30</span>:<span class="number">13</span>,<span class="number">417</span> logger ERROR This <span class="keyword">is</span> an customize error message</span><br><span class="line"><span class="number">2019</span><span class="number">-10</span><span class="number">-13</span> <span class="number">15</span>:<span class="number">30</span>:<span class="number">13</span>,<span class="number">417</span> logger CRITICAL This <span class="keyword">is</span> a customize critical message</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="pymysql模块"><a href="#pymysql模块" class="headerlink" title="pymysql模块"></a>pymysql模块</h3><h4 id="pymysql模块介绍"><a href="#pymysql模块介绍" class="headerlink" title="pymysql模块介绍"></a>pymysql模块介绍</h4><p>该软件包包含一个基于PEP 249的纯Python MySQL客户端库。</p>
<h4 id="pymysql模块使用示例"><a href="#pymysql模块使用示例" class="headerlink" title="pymysql模块使用示例"></a>pymysql模块使用示例</h4><ul>
<li>版本要求 &amp; 安装</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 版本要求</span></span><br><span class="line">Python – one of the following:</span><br><span class="line">    CPython &gt;= <span class="number">2.7</span> <span class="keyword">or</span> &gt;= <span class="number">3.5</span></span><br><span class="line">    Latest PyPy</span><br><span class="line">MySQL Server – one of the following:</span><br><span class="line">    MySQL &gt;= <span class="number">5.5</span></span><br><span class="line">    MariaDB &gt;= <span class="number">5.5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装</span></span><br><span class="line">python3 -m pip install PyMySQL</span><br></pre></td></tr></table></figure>

<ul>
<li>基本使用</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 数据库插入数据</span></span><br><span class="line">CREATE TABLE `users` (</span><br><span class="line">    `id` int(<span class="number">11</span>) NOT NULL AUTO_INCREMENT,</span><br><span class="line">    `email` varchar(<span class="number">255</span>) COLLATE utf8_bin NOT NULL,</span><br><span class="line">    `password` varchar(<span class="number">255</span>) COLLATE utf8_bin NOT NULL,</span><br><span class="line">    PRIMARY KEY (`id`)</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin</span><br><span class="line">AUTO_INCREMENT=<span class="number">1</span> ;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用PyMySQL连接数据库</span></span><br><span class="line"><span class="keyword">import</span> pymysql.cursors</span><br><span class="line"></span><br><span class="line"><span class="comment"># Connect to the database</span></span><br><span class="line">connection = pymysql.connect(host=<span class="string">'localhost'</span>,</span><br><span class="line">                             user=<span class="string">'user'</span>,</span><br><span class="line">                             password=<span class="string">'passwd'</span>,</span><br><span class="line">                             db=<span class="string">'db'</span>,</span><br><span class="line">                             charset=<span class="string">'utf8mb4'</span>,</span><br><span class="line">                             cursorclass=pymysql.cursors.DictCursor)</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">with</span> connection.cursor() <span class="keyword">as</span> cursor:</span><br><span class="line">        <span class="comment"># Create a new record</span></span><br><span class="line">        sql = <span class="string">"INSERT INTO `users` (`email`, `password`) VALUES (%s, %s)"</span></span><br><span class="line">        cursor.execute(sql, (<span class="string">'webmaster@python.org'</span>, <span class="string">'very-secret'</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># connection is not autocommit by default. So you must commit to save</span></span><br><span class="line">    <span class="comment"># your changes.</span></span><br><span class="line">    connection.commit()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> connection.cursor() <span class="keyword">as</span> cursor:</span><br><span class="line">        <span class="comment"># Read a single record</span></span><br><span class="line">        sql = <span class="string">"SELECT `id`, `password` FROM `users` WHERE `email`=%s"</span></span><br><span class="line">        cursor.execute(sql, (<span class="string">'webmaster@python.org'</span>,))</span><br><span class="line">        result = cursor.fetchone()</span><br><span class="line">        print(result)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    connection.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出</span></span><br><span class="line">&#123;<span class="string">'password'</span>: <span class="string">'very-secret'</span>, <span class="string">'id'</span>: <span class="number">1</span>&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="redis模块"><a href="#redis模块" class="headerlink" title="redis模块"></a>redis模块</h3><h4 id="redis模块介绍"><a href="#redis模块介绍" class="headerlink" title="redis模块介绍"></a>redis模块介绍</h4><p>Redis键值存储的Python接口。</p>
<h4 id="redis模块使用示例"><a href="#redis模块使用示例" class="headerlink" title="redis模块使用示例"></a>redis模块使用示例</h4><ul>
<li>版本要求 &amp; 安装</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 版本要求</span></span><br><span class="line">redis-py <span class="number">3.0</span> supports Python <span class="number">2.7</span> <span class="keyword">and</span> Python <span class="number">3.5</span>+.</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装</span></span><br><span class="line">pip install redis</span><br></pre></td></tr></table></figure>

<ul>
<li>基本使用</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis</span><br><span class="line"></span><br><span class="line">r = redis.Redis(host=<span class="string">'localhost'</span>, port=<span class="number">6379</span>, db=<span class="number">0</span>)</span><br><span class="line">r.set(<span class="string">'foo'</span>, <span class="string">'bar'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="literal">True</span></span><br><span class="line"></span><br><span class="line">r.get(<span class="string">'foo'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'bar'</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="PyMongo模块"><a href="#PyMongo模块" class="headerlink" title="PyMongo模块"></a>PyMongo模块</h3><h4 id="PyMongo模块介绍"><a href="#PyMongo模块介绍" class="headerlink" title="PyMongo模块介绍"></a>PyMongo模块介绍</h4><p>PyMongo是一个Python发行版，其中包含用于MongoDB的工具，并且是从Python使用MongoDB的推荐方式。</p>
<h4 id="PyMongo模块使用示例"><a href="#PyMongo模块使用示例" class="headerlink" title="PyMongo模块使用示例"></a>PyMongo模块使用示例</h4><ul>
<li>版本要求 &amp; 安装</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 版本要求</span></span><br><span class="line">PyMongo supports MongoDB <span class="number">2.6</span>, <span class="number">3.0</span>, <span class="number">3.2</span>, <span class="number">3.4</span>, <span class="number">3.6</span>, <span class="number">4.0</span> <span class="keyword">and</span> <span class="number">4.2</span>.</span><br><span class="line">PyMongo supports CPython <span class="number">2.7</span>, <span class="number">3.4</span>+, PyPy, <span class="keyword">and</span> PyPy3<span class="number">.5</span>+.</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装</span></span><br><span class="line">python -m pip install pymongo[snappy,gssapi,srv,tls,zstd]</span><br></pre></td></tr></table></figure>

<ul>
<li>基本使用</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymongo</span><br><span class="line"></span><br><span class="line">client = pymongo.MongoClient(<span class="string">"localhost"</span>, <span class="number">27017</span>)</span><br><span class="line">db = client.test</span><br><span class="line">db.name</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">u'test'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">db.my_collection</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Collection(Database(MongoClient(<span class="string">'localhost'</span>, <span class="number">27017</span>), <span class="string">u'test'</span>), <span class="string">u'my_collection'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">db.my_collection.insert_one(&#123;<span class="string">"x"</span>: <span class="number">10</span>&#125;).inserted_id</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ObjectId(<span class="string">'4aba15ebe23f6b53b0000000'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">db.my_collection.insert_one(&#123;<span class="string">"x"</span>: <span class="number">8</span>&#125;).inserted_id</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ObjectId(<span class="string">'4aba160ee23f6b543e000000'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">db.my_collection.insert_one(&#123;<span class="string">"x"</span>: <span class="number">11</span>&#125;).inserted_id</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ObjectId(<span class="string">'4aba160ee23f6b543e000002'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">db.my_collection.find_one()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;<span class="string">u'x'</span>: <span class="number">10</span>, <span class="string">u'_id'</span>: ObjectId(<span class="string">'4aba15ebe23f6b53b0000000'</span>)&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> db.my_collection.find():</span><br><span class="line">    print(item[<span class="string">"x"</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">8</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">11</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">db.my_collection.create_index(<span class="string">"x"</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">u'x_1'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> db.my_collection.find().sort(<span class="string">"x"</span>, pymongo.ASCENDING):</span><br><span class="line">    print(item[<span class="string">"x"</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">8</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">11</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[item[<span class="string">"x"</span>] <span class="keyword">for</span> item <span class="keyword">in</span> db.my_collection.find().limit(<span class="number">2</span>).skip(<span class="number">1</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="number">8</span>, <span class="number">11</span>]</span><br></pre></td></tr></table></figure>


      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="https://elijahyg.github.io/2020/05/10/Python常用的模块&包/" title="Python常用的模块&amp;包" target="_blank" rel="external">https://elijahyg.github.io/2020/05/10/Python常用的模块&包/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a>本作品采用<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0 国际许可协议</a>进行许可。
    </li>
  </ul>
</blockquote>



    </div>
  </article>
  
    
  <section id="comments">
  	
           
    
  </section>


  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    
    <li class="next">
      <a href="/2020/04/14/Python包/" title="Python包"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button">
        <span>[&nbsp;</span><span>文章目录</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div>
    
  </div>
  </div>
</nav>
  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>感谢您的支持，我会继续努力的!</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">扫码打赏，你说多少就多少</p>
              <p class="text-grey">打开支付宝扫一扫，即可进行扫码打赏哦</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">扫码打赏，你说多少就多少</p>
              <p class="text-grey">打开微信扫一扫，即可进行扫码打赏哦</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a>
              </li>
              <li role="presentation" class="">
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/ElijahYG" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
        	Theme by <a href="https://github.com/cofess" target="_blank"> cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.
        </div>
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>
<script src="/js/plugin.min.js"></script>
<script src="/js/application.js"></script>

    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>





   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





   
    
  <!-- <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"> -->
  <script src="//cdn.jsdelivr.net/npm/gitalk@1.5.2/dist/gitalk.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script>
  <script type="text/javascript">
  var gitalk = new Gitalk({
    clientID: 'e9a82c38e4a1a8590a33',
    clientSecret: 'bf3deb8d2b72a593c950e26693e5c56bf98a7bac',
    repo: 'ElijahYG.github.io',
    owner: 'ElijahYG',
    admin: ['ElijahYG'],
    id: md5(location.pathname),
    distractionFreeMode: true
  })
  gitalk.render('comments')
  </script>

      







</body>
</html>